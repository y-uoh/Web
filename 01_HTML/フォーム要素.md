# form要素について
- webサーバーに情報を送信するための対話型コントロール要素
- `<form>`タグがメインの要素となるブロック要素で、その中で`<input>`タグ、`<select>`タグ、`<textarea>`タグなどを部品として配置し全体を構成する
- 入力値は様々ある属性値で指定した方法でサーバに送信される
- 例えば、入力値は`<method>`属性で指定したHTTPメソッドと、`<enctype>`属性で指定したデータ形式で、`<action>`属性で指定した`URL`に送信される
  
<br>  
  
## 1. form要素の属性
| 属　性 | 概　要 | 属性の値 | 備　考 |  
| --- | --- | --- | --- |  
| action | 実行（サブミット）されたときの動作を指定 | URL/URI |  |  
| method | サーバーにデータを送る形式（HTTPメソッド）を指定 | get、post |  |  
| enctype | 送信時のデータ形式（エンコード形式）を指定 | application/x-www-urlencoded、multipart/form-data、text/plain |  |  
| accept-charset | プログラム側受け入れる文字コードを指定。フォームで使用できる文字コードをカンマかスペース区切りで指定できる | 文字コード（UTF-8など） |  |  
| accept | フォームデータを処理する際に受け入れるMIMEタイプを指定。MIMEタイプのリストをカンマで区切って指定する | MIMEタイプ |  |  
| name | フォームの名前を指定 | 文字列 |  |  
| target | 送信結果の表示方法を指定 | _blank、_self、_parent、_top、フレーム名、ウィンドウ名 |  |  
| placeholder | フォーム内が空の時に表示させる内容を指定 |  |  |  
  

<br>  
  
## 2. input要素
- input要素はform要素と合わせて使われる要素で、実際にブラウザ上でデータ入力をコントロールする要素
- `type`属性と合わせて、入力フォームのデザインを指定するフォーム作成時にはほぼ必須の要素
- 例えば、`input type="text"`とすれば、一番プレーンな入力フォームを作成できたり、`input type="password"`とすれば、入力値が`*`でマスクされる入力フォームを作成できる
- `input`要素は空要素なので、終了タグはない
- `type`属性に指定できる属性値は[inputの型 -MDN](https://developer.mozilla.org/ja/docs/Web/HTML/Element/input#input_%E3%81%AE%E5%9E%8B)を参照
  
<br>  
  
## 3. label要素
- `label`要素は`input`要素と関連して、その入力フォームの項目をテキストで表す
- `input`要素と関連付けることで、ラベルをクリックすると入力フォームをクリックした場合と同様に、入力フォームをアクティブ化することができる
- `input`要素と関連付ける方法は以下の2種類
  
### 3-1. id属性とfor属性を一致させる
- `input`要素に`id`属性を、`label`要素に`for`属性をそれぞれ指定し、お互いの属性値を一致させる
- 属性値は互いに一意である必要がある
  
### 3-2. label要素にinput要素をネストさせる
- `input`要素を直接`label`要素の内側にいれる。
  
<br>  
  
## 4. Sample
```html
<form action="/test">   <!--- formタグで囲まれてる部分が、一度に送信する各部品 --->
        <p>
            <!--- id属性とfor属性を一致させる --->
            <label for="username">ユーザー名：</label>
            <input id="username" type="text" placeholder="ユーザ名" >
        </p>
        <p>
            <!--- id属性とfor属性を一致させる --->
            <label for="password">パスワード：</label>
            <input id="password" type="password" placeholder="パスワード">
        </p>
        <p>
            <!--- id属性とfor属性を一致させる --->
            <label for="color">好きな色：</label>
            <input id="color" type="color">
        </p>
        <p>
            <label for="month">月を指定：</label>
            <input id="month" type="month">
        </p>
        <p>
            <!--- label要素にinput要素をネスト --->
            <label>好きな数値：
                <input type="number" placeholder="数値を入力">
            </label>
        </p>
    </form>
``` 
  
<br>  

  
## ボタン要素の2種類
- ボタン要素は、入力フォームを送信したり、特定の機能を起動させたりすることができる要素
- HTMLでボタン要素を追加させるには**button要素による方法**と**input type"submit"**による方法の2種類の方法がある
  
### 1. button要素
- `button`要素はHTLMにボタンを追加する要素
- `button`要素は`type`属性を持ち、そのボタンを押すことで実行される機能を指定することができる。何も指定しないとデフォルトでは`submit`（送信）になる
- `form`要素内に`button`要素をネストし特に`type`属性を指定しないとき、`form`タグの`action`属性に指定されたURLに入力フォームの内容を`submit`するという機能を発揮する
- 構文は`<button>送信</button>`といった形式で、テキストでボタンに表示する文字列を入れることができる
  
### 2. input type="submit"による方法
- `input`要素の`type`属性に`submit`を指定することで、ボタン要素を作ることができる
- これは完全に`submit`限定のボタンであり、`button`要素と同じく`form`タグの`action`属性に指定されたURLに入力フォームの内容を`submit`する
- ボタンの内容を表示するには`input type="submit" value="送信"`といったように、`value`属性を追加してそこに表示したい文字列を入力する

### 3. Sample
```html
<form action="/test">
        <button>送　信</button>
        <input type="submit" value="送信">送　信
    </form> 
```
  
<br>  
  
## input要素のname属性について
- input要素のname属性は、**フォーム送信時**に使用され、属性値と入力値がセットとなって、サーバー側がどのデータをコントロールするかを特定する
- 例えば下記の`Sample`コードをブラウザで開き、`ユーザ名：`の入力フォームに何かを入力し送信ボタンを押下すると、`form`要素の`action`属性に指定された`URL`に対し`username=<入力値>`といった形でデータが送信される。
- つまるところ、入力フォームに入力された入力値はそのフォームで指定されたname属性値とセットなってサーバに送信される
- 特別な意味をもつ`name`として、`name="_charset_"`と`name="isindex"`がある
  - `name="_charset_"`：フォームデータのエンコードの種類を送信する
  - `name="isindex"`：フォームデータの送信の際、特別な扱いがなされ、HTML5では廃止になった、`isindex`要素の動作がエミュレートされる
- name属性は要素に名前を付与するために設定する属性であるが、`input`要素のように使う要素によってその機能が若干異なる。
  
### 1. Sample
```html
    <form action="/test">
        <p>
            <label for="username">ユーザー名：</label>
            <input id="username" type="text" placeholder="ユーザ名" name="username">
        </p>
        <p>
            <label for="password">パスワード：</label>
            <input id="password" type="password" placeholder="パスワード" name="password">
        </p>
        <p>
            <label for="color">好きな色：</label>
            <input id="color" type="color" name="color">
        </p>
        <p>
            <label>好きな数値：
                <input type="number" placeholder="数値を入力" name="num">
            </label>
        </p>
        <button type="submit">送　信</button>
        <input type="submit" value="送　信">
    </form>
```
  
### 補足：id属性とname属性の違いについて
#### id属性
- **要素を一意に識別**するための属性
- グローバル属性で、ほとんどの要素で設定可能
- 一意である必要があり、同じidを複数つけることはできない（正しく動作しない）
- 要素同士を結び付けたいときに使われることが多い

#### name属性
- **バックエンドに送ったデータを識別**する際の識別子
- id要素と違い全ての要素に設定できるわけではない。また設定する要素によって機能が異なる
- 必ずしも一意である必要はないが、普通は一意にする（特定の条件により、必ず一意にする必要があることもある）
- `name`属性は、バックエンド側（サーバー側）での意味合いが強く、フロントエンド（ブラウザ側）で使用することは少ない

#### まとめ
- `id`属性値と`name`属性値は同じである必要はないが、アクセサビリティの観点から基本的に一緒にしていることが多い
- ただバックエンド側で認識するのはあくまで、`name`属性の値である
  
<br>  
  
## 参　考
[form要素 -MDN](https://developer.mozilla.org/ja/docs/Web/HTML/Element/form)