# form要素について
- webサーバーに情報を送信するための対話型コントロール要素
- `<form>`タグがメインの要素となるブロック要素で、その中で`<input>`タグ、`<select>`タグ、`<textarea>`タグなどを部品として配置し全体を構成する
- 入力値は様々ある属性値で指定した方法でサーバに送信される
- 例えば、入力値は`<method>`属性で指定したHTTPメソッドと、`<enctype>`属性で指定したデータ形式で、`<action>`属性で指定した`URL`に送信される
  
<br>  
  
## 1. form要素の主な属性
| 属　性 | 概　要 | 属性の値 | 備　考 |  
| --- | --- | --- | --- |  
| action | 実行（サブミット）されたときの動作を指定 | URL/URI |  |  
| method | サーバーにデータを送る形式（HTTPメソッド）を指定 | get、post |  |  
| enctype | 送信時のデータ形式（エンコード形式）を指定 | application/x-www-urlencoded、multipart/form-data、text/plain |  |  
| accept-charset | プログラム側受け入れる文字コードを指定。フォームで使用できる文字コードをカンマかスペース区切りで指定できる | 文字コード（UTF-8など） |  |  
| accept | フォームデータを処理する際に受け入れるMIMEタイプを指定。MIMEタイプのリストをカンマで区切って指定する | MIMEタイプ |  |  
| name | フォームの名前を指定 | 文字列 |  |  
| target | 送信結果の表示方法を指定 | _blank、_self、_parent、_top、フレーム名、ウィンドウ名 |  |  
  

<br>  
  
## 2. input要素
- input要素はform要素と合わせて使われる要素で、実際にブラウザ上でデータ入力をコントロールする要素
- `type`属性と合わせて、入力フォームのデザインを指定するフォーム作成時にはほぼ必須の要素
- 例えば、`input type="text"`とすれば、一番プレーンな入力フォームを作成できたり、`input type="password"`とすれば、入力値が`*`でマスクされる入力フォームを作成できる
- `input`要素は空要素なので、終了タグはない
- `type`属性に指定できる属性値は[inputの型 -MDN](https://developer.mozilla.org/ja/docs/Web/HTML/Element/input#input_%E3%81%AE%E5%9E%8B)を参照

### 2‐1. name属性
- input要素のname属性は、**フォーム送信時**に使用され、属性値と入力値がセットとなって、サーバー側がどのデータをコントロールするかを特定する
- 例えば下記の`Sample`コードをブラウザで開き、`ユーザ名：`の入力フォームに何かを入力し送信ボタンを押下すると、`form`要素の`action`属性に指定された`URL`に対し`username=<入力値>`といった形でデータが送信される。
- つまるところ、入力フォームに入力された入力値はそのフォームで指定されたname属性値とセットなってサーバに送信される
- 特別な意味をもつ`name`として、`name="_charset_"`と`name="isindex"`がある
  - `name="_charset_"`：フォームデータのエンコードの種類を送信する
  - `name="isindex"`：フォームデータの送信の際、特別な扱いがなされ、HTML5では廃止になった、`isindex`要素の動作がエミュレートされる
- name属性は要素に名前を付与するために設定する属性であるが、`input`要素のように使う要素によってその機能が若干異なる。
  
### 2-2. placeholder属性
- `placeholder`属性値は、入力フォームが空のとき、入力フォーム内に表示される
  
### 2-3. value属性
- `type="text"`などの入力系のフォームは、その入力フォームの初期値を設定できる
- `type="checbox"`、`type="radio"`、`type="hidden"`などの選択系のフォームにおいては、`value`の属性値を送信する必要があるので、必ず設定する必要がある
  
### 補足：placeholder属性とvalue属性の違い
- 入力系のフォームにおいて、両属性は共に入力フォーム内にテキストが表示されるが、その違いについては以下の通り
- placeholder：入力の見本のテキストを表示するだけで、何か値が入ると消える
- value：入力の初期値となるので、入力フォームに既に入力値が入っている状態にある
  
<br>  
  
## 3. label要素
- `label`要素は`input`要素と関連して、その入力フォームの項目をテキストで表す
- `input`要素と関連付けることで、ラベルをクリックすると入力フォームをクリックした場合と同様に、入力フォームをアクティブ化することができる
- `input`要素と関連付ける方法は以下の2種類
  
### 3-1. id属性とfor属性を一致させる
- `input`要素に`id`属性を、`label`要素に`for`属性をそれぞれ指定し、お互いの属性値を一致させる
- 属性値は互いに一意である必要がある
  
### 3-2. label要素にinput要素をネストさせる
- `input`要素を直接`label`要素の内側にいれる。
  
### 補足：id属性とname属性の違いについて
#### id属性
- **要素を一意に識別**するための属性
- グローバル属性で、ほとんどの要素で設定可能
- 一意である必要があり、同じidを複数つけることはできない（正しく動作しない）
- 要素同士を結び付けたいときに使われることが多い

#### name属性
- **バックエンドに送ったデータを識別**する際の識別子
- id要素と違い全ての要素に設定できるわけではない。また設定する要素によって機能が異なる
- 必ずしも一意である必要はないが、普通は一意にする（特定の条件により、必ず一意にする必要があることもある）
- `name`属性は、バックエンド側（サーバー側）での意味合いが強く、フロントエンド（ブラウザ側）で使用することは少ない

#### まとめ
- `id`属性値と`name`属性値は同じである必要はないが、アクセサビリティの観点から基本的に一緒にしていることが多い
- ただバックエンド側で認識するのはあくまで、`name`属性の値である
    
<br>  
  
## 4. button要素の2種類
- ボタン要素は、入力フォームを送信したり、特定の機能を起動させたりすることができる要素
- HTMLでボタン要素を追加させるには**button要素による方法**と**input type"submit"**による方法の2種類の方法がある
  
### 4-1. button要素
- `button`要素はHTLMにボタンを追加する要素
- `button`要素は`type`属性を持ち、そのボタンを押すことで実行される機能を指定することができる。何も指定しないとデフォルトでは`submit`（送信）になる
- `form`要素内に`button`要素をネストし特に`type`属性を指定しないとき、`form`タグの`action`属性に指定されたURLに入力フォームの内容を`submit`するという機能を発揮する
- 構文は`<button>送信</button>`といった形式で、テキストでボタンに表示する文字列を入れることができる
  
### 4-2. input type="submit"による方法
- `input`要素の`type`属性に`submit`を指定することで、ボタン要素を作ることができる
- これは完全に`submit`限定のボタンであり、`button`要素と同じく`form`タグの`action`属性に指定されたURLに入力フォームの内容を`submit`する
- ボタンの内容を表示するには`input type="submit" value="送信"`といったように、`value`属性を追加してそこに表示したい文字列を入力する
  
<br><br>  
  
## 5. <input type="">による様々な入力フォーム形式
- <input>の動作は、type属性の値に応じて大きく異なり確認しきれないので、以下のリファレンスから型の扱いを確認する  
[<input>の型 -MDN](https://developer.mozilla.org/ja/docs/Web/HTML/Element/input)  
  
<br><br>    
  
## 6. HTMLバリデーション
- バリデーションとは、つまるところ入力規則のような機能
- 例えば、`<input type="password">`の入力フォームに入力値は8文字以上、大小文字を組み合わせなど入力規則を定め、それに従ってないと入力を受け付けなくするもの
- 実際は`javascript`などで実装することが多いが、`HTML`だけでもバリデーションの実装は可能
- 深堀りすると、バリデーションはバックエンド（サーバー側）での実装することがほぼマストになっていて、フロントエンド（ブラウザ側）の実装はアクセシビリティの向上のために行うことが多い
- バックエンドでの実装がマストの理由は、ブラウザ以外の方法でサーバーに対しリクエストを投げる可能性があるため、フロントエンドでのバリデーションをバイパスする可能性があるため
  
### 6-1. required属性
- 入力必須のフォームを作れる
- 空値だと送信を受け付けず、ブラウザ側でエラーメッセージが表示される
  
### 6-2. minlength属性/maxlength属性
- 入力値の文字数を制限を実装できる
- 両属性とも以上と以下が閾値
  
#### minlength属性
- 入力文字数の最小限の文字数を設定する
- 設定値以下の文字数だとブラウザがエラーを吐き出す

#### maxlength属性
- 入力値の最大の文字数を設定する
- 設定値以上は入力を受け付けない
  
### 6-3. input要素のtype属性値によるバリデーション
- `input`要素に設定する`type`属性は、属性値により入力規則が決まっているものがある
  
#### emailタイプ
- `type="email`は、入力値が`@`の前後に文字列がないと入力を受け付けない

#### urlタイプ
- `type="url`は、入力値が`:（コロン）`の前後に文字列がないと入力を受け付けない
  
<br><br>  
  
## 参　考
[form要素 -MDN](https://developer.mozilla.org/ja/docs/Web/HTML/Element/form)